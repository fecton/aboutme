@tailwind base;
@tailwind components;
@tailwind utilities;

/* Light theme (default) - applies when no class or class="light" */
:root,
:root.light {
	--color-background: #f5f5f7;
	--color-foreground: #1d1d1f;
	--color-muted: #6e6e73;
	--color-surface: rgba(0, 0, 0, 0.03);
	--color-surface-hover: rgba(0, 0, 0, 0.06);
	--color-border: rgba(0, 0, 0, 0.08);
	--color-accent: #3366cc;
	--color-accent-dark: #204090;
	/* Premium mesh gradient - soft blue orbs on light base (matches dark theme structure) */
	--mesh-gradient: radial-gradient(
			ellipse 90% 60% at 15% 15%,
			rgba(102, 204, 255, 0.45) 0%,
			rgba(51, 102, 204, 0.18) 40%,
			transparent 70%
		),
		radial-gradient(
			ellipse 70% 50% at 85% 25%,
			rgba(96, 169, 240, 0.35) 0%,
			rgba(51, 102, 204, 0.12) 35%,
			transparent 60%
		),
		radial-gradient(
			ellipse 80% 70% at 60% 85%,
			rgba(51, 102, 204, 0.28) 0%,
			rgba(96, 169, 240, 0.12) 45%,
			transparent 70%
		),
		radial-gradient(
			ellipse 60% 50% at 95% 70%,
			rgba(51, 102, 204, 0.25) 0%,
			transparent 50%
		),
		#f5f5f7;
}

/* Dark theme */
:root.dark {
	--color-background: #000000;
	--color-foreground: #ffffff;
	--color-muted: #a1a1a6;
	--color-surface: rgba(255, 255, 255, 0.05);
	--color-surface-hover: rgba(255, 255, 255, 0.1);
	--color-border: rgba(255, 255, 255, 0.1);
	--color-accent: #3366cc;
	--color-accent-dark: #204090;
	/* Premium mesh gradient - deep blue orbs on dark base */
	--mesh-gradient: radial-gradient(
			ellipse 90% 60% at 15% 15%,
			rgba(51, 102, 204, 0.35) 0%,
			rgba(32, 64, 144, 0.15) 40%,
			transparent 70%
		),
		radial-gradient(
			ellipse 70% 50% at 85% 25%,
			rgba(96, 169, 240, 0.2) 0%,
			rgba(51, 102, 204, 0.08) 35%,
			transparent 60%
		),
		radial-gradient(
			ellipse 80% 70% at 60% 85%,
			rgba(32, 63, 126, 0.4) 0%,
			rgba(32, 64, 144, 0.15) 45%,
			transparent 70%
		),
		radial-gradient(
			ellipse 60% 50% at 95% 70%,
			rgba(51, 102, 204, 0.2) 0%,
			transparent 50%
		),
		#000000;
}

@layer base {
	html {
		@apply antialiased;
	}

	body {
		@apply text-foreground font-sans;
		background: var(--mesh-gradient);
		background-attachment: fixed;
		min-height: 100vh;
	}
}

/* Avoid fixed background on mobile - performance and visual glitches in Safari */
@media (max-width: 768px) {
	body {
		background-attachment: scroll;
	}
}

/* Glassmorphism utility */
.glass {
	background: var(--color-surface);
	backdrop-filter: blur(20px);
	-webkit-backdrop-filter: blur(20px);
	border: 1px solid var(--color-border);
}

/* Skip link for accessibility */
.skip-link {
	@apply absolute -top-12 left-0 z-[100000] bg-accent px-4 py-2 text-white no-underline transition-all duration-200;
}

.skip-link:focus {
	@apply top-0 outline-none ring-2 ring-border;
}

/* View Transitions API - circular reveal for theme toggle */
::view-transition-old(root),
::view-transition-new(root) {
	animation: none;
	mix-blend-mode: normal;
}

/* Focus visible for accessibility */
*:focus-visible {
	@apply outline-none ring-2 ring-border ring-offset-2 ring-offset-background;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}
